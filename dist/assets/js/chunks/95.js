"use strict";(self.webpackChunksg_blocks=self.webpackChunksg_blocks||[]).push([[95],{8095:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var o=n(9196),r=n.n(o),l=n(2175),a=n(9818),c=n(5609),i=n(4652),u=n(2539),s=n(3152);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,l,a,c=[],i=!0,u=!1;try{if(l=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(o=l.call(n)).done)&&(c.push(o.value),c.length!==t);i=!0);}catch(e){u=!0,r=e}finally{try{if(!i&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var g=["xs","s","sm","m","l","xl"],p=[{title:"Gap",attribute:"gap"}];const d=function(e){var t=e.attributes,n=e.setAttributes,m=e.context,d=t.taxonomy,v=t.fontSize,b=t.horizontalLayout,y=t.separator,h=t.fontHeading,E=t.linked,C=t.centerItems,x=t.gap,k=m.postId,T=m.postType,A=f((0,o.useState)(""),2),S=A[0],O=A[1],j=(0,o.useMemo)((function(){return"category"===d?"categories":"post_tag"===d?"tags":d}),[d]),w=(0,a.useSelect)((function(e){var t;return null===(t=(0,e("core").getPostType)(T))||void 0===t?void 0:t.taxonomies}),[]),I=(0,a.useSelect)((function(e){var t,n=e("core"),o=n.getEntityRecords,r=null===(t=(0,n.getEntityRecord)("postType",T,k))||void 0===t?void 0:t[j],l=o("taxonomy",d,{includes:r});return null==l?void 0:l.filter((function(e){return null==r?void 0:r.includes(e.id)}))}),[d]),_=E?"a":"span",z=(0,l.useBlockProps)({className:"sg-term-list f-".concat(v).concat(b?" flx flx-wrap":"").concat(C?" flx-ctr txt-ctr":"").concat(y?" has-separator":" "+(0,s.nE)(t)).concat(h?" f-heading":"")});return(0,o.useEffect)((function(){var e="";if(y){var t={};Object.entries(x).forEach((function(e){var n,o,r=f(e,2),l=r[0],a=r[1];t.gap[l].y=null!==(n=null==a?void 0:a.y)&&void 0!==n?n:a,t.padding[l].x=null!==(o=null==a?void 0:a.x)&&void 0!==o?o:a}))}else e=(0,s.nE)(x);O(e)}),[x]),(0,o.useEffect)((function(){w&&!d&&n({taxonomy:w[0]})}),[w]),r().createElement(r().Fragment,null,r().createElement(l.InspectorControls,null,r().createElement(c.PanelBody,{title:"Paramètres",initialOpen:!0},r().createElement(c.SelectControl,{label:"Taxonomie",value:d,options:null==w?void 0:w.map((function(e){return{label:e,value:e}})),onChange:function(e){n({taxonomy:e})}}),r().createElement(c.__experimentalToggleGroupControl,{label:"Taille de police",onChange:function(e){n({fontSize:e})},value:v,isBlock:!0},g.map((function(e){return r().createElement(c.__experimentalToggleGroupControlOption,{value:e,label:e.toUpperCase()})}))),r().createElement(c.ToggleControl,{label:"Alignement horizontal",checked:b,onChange:function(e){n({horizontalLayout:e})}}),r().createElement(c.ToggleControl,{label:"Texte centré",checked:C,onChange:function(e){n({centerItems:e})}}),r().createElement(c.ToggleControl,{label:"Lien vers les catégories ?",checked:E,onChange:function(e){n({linked:e})}}),r().createElement(c.ToggleControl,{label:"Police titre",checked:h,onChange:function(e){n({fontHeading:e})}}),b&&r().createElement(c.ToggleControl,{label:"Ajouter un séparateur",checked:y,onChange:function(e){n({separator:e})}}),r().createElement(u.Z,{attributes:t,setAttributes:n,spacingsOptions:p})),r().createElement(i.Z,null,(function(e){return r().createElement("div",null,r().createElement(u.Z,{attributes:t,setAttributes:n,breakpoint:e.name,spacingsOptions:p}))}))),I?r().createElement("ul",z,I.map((function(e,t){return r().createElement("li",{key:e+t,className:"".concat(S)},r().createElement(_,{className:"sg-tags-".concat(d),style:e.meta.color?{color:e.meta.color}:void 0},e.name))}))):r().createElement("div",z,r().createElement("p",null,"Aucun tag disponible...")))}}}]);